var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n),n("eLjGg"),n("epHO8"),n("bUb57"),n("eEHR3");var a=n("2shzp");var s=n("bTcpz");const o=document.querySelector(".js-upcoming-container");let l,c,r=[];function _(e){const t=e.genres.reduce(((e,t)=>e+=`${t.name} `),"").split(" ").filter((e=>e));t.length=2;const i=t.join(", "),n=`<img class="upcoming__image"\n             src="https://image.tmdb.org/t/p/original/${e.backdrop_path}" alt="${e.original_title}" \n             loading="lazy"/>\n             <div class="desktop__info__wrapper">\n            <div class="upcoming__info-wrapper">\n                <h3 class="upcoming__film__title">${e.original_title}</h3>\n                <ul class="upcoming__list__rating">\n                    <li>\n                    <ul class="upcoming__item__rating">\n                        <li>Release date</li>\n                        <li>Vote &#47; Votes</li>\n                        <li>Popularity</li>\n                        <li>Genre</li>\n                    </ul>\n                </li>\n                <li>\n                    <ul class="upcoming__item__rating">\n                        <li class="upcoming__item_customize">${e.release_date}</li>\n                        <li class="upcoming__item_customize"><span>${e.vote_average.toFixed(1)}</span> &#47; <span>${e.vote_count}</span></li>\n                        <li class="upcoming__item_customize">${e.popularity}</li>\n                        <li class="upcoming__item_customize">${i}</li>\n                    </ul>\n                </li>\n                </ul>\n                <ul class="upcoming__list__tablet">\n                    <li class="upcoming__tablet__item">\n                        <p class="tablet__subtitle">Release date</p>\n                        <p class="tablet__info">${e.release_date}</p>\n                    </li>\n                    <li class="upcoming__tablet__item">\n                        <p class="tablet__subtitle">Popularity</p>\n                        <p class="tablet__info upcoming__item_customize">${e.popularity.toFixed(1)}</p>\n                    </li>\n                    <li class="upcoming__tablet__item">\n                        <p class="tablet__subtitle">Vote &#47; Votes</p>\n                        <p class="tablet__info upcoming__item_customize"><span>${e.vote_average.toFixed(1)}</span> &#47; <span>${e.vote_count}</span></p>\n                    </li>\n                    <li class="upcoming__tablet__item">\n                        <p class="tablet__subtitle">Genre</p>\n                        <p class="tablet__info upcoming__item_customize">${t}</p>\n                    </li>\n                </ul>\n            </div>\n            <div class="upcoming-about-wrapper">\n                    <p class="upcoming__about__title">About</p>\n                    <p>${e.overview}</p>\n                </div>\n            <button class="upcoming__btn" type="button">Add to my library</button>\n            </div>`;o.innerHTML=n,c=e.id,l=document.querySelector(".upcoming__btn");try{(0,s.loadLs)(s.KEY);r.some((e=>e.id===c))&&(l.textContent="Remove from my library"),l.addEventListener("click",(()=>{try{const t=(0,s.loadLs)(s.KEY);if(t&&(r=[...t]),!r.some((e=>e.id===+c)))return r.push(e),(0,s.saveLs)(s.KEY,r),void(l.textContent="Remove from my library");const i=r.findIndex((e=>e.id===Number(c)));r.splice(i,1),localStorage.removeItem(s.KEY),(0,s.saveLs)(s.KEY,r),l.textContent="Add to my library"}catch(e){console.error("Set state error: ",e.message)}}))}catch(e){console.log(e.code)}}(new class{#e="https://api.themoviedb.org/3/";#t="5e0b2043a7bdefdf129debb784bbe1f7";constructor(){this.page=1}async getFilmByName(e){const t=new URLSearchParams({api_key:this.#t,query:e,page:this.page}),i=await a.default.get(`${this.#e}search/movie?${t}`);if(!i.data.results.length)throw new Error("OOPS...We are very sorry!We don’t have any results matching your search.");return i.data}async getFilmById(e){return(await a.default.get(`${this.#e}movie/${e}?api_key=${this.#t}`)).data}async getUpcomingFilm(){const e=Math.floor(19*Math.random()),t=await a.default.get(`${this.#e}movie/upcoming?api_key=${this.#t}`);_(await this.getFilmById(t.data.results[e].id))}}).getUpcomingFilm();a=n("2shzp");const p=document.querySelector(".trends__list");a.default.request({method:"GET",url:"https://api.themoviedb.org/3/trending/movie/week",params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ZTBiMjA0M2E3YmRlZmRmMTI5ZGViYjc4NGJiZTFmNyIsInN1YiI6IjY0ZDA5ZWY5ODUwOTBmMDBjODdkY2FjYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.AoWYcFyuoQyP_ePohi3LRcw4Fp8RAJIbZs-uo4526oA"}}).then((function(e){!async function(e){const t=await async function(e){return(await Promise.all(e.map((async({id:e,genre_ids:t,poster_path:i,release_date:n,title:s,vote_average:o})=>`<li class="trends__item" id=${e}>\n        <img\n          src="https://image.tmdb.org/t/p/original/${i}"\n          alt="${s}"\n          class="trends__photo"\n        loading="lazy"/>\n        <div class="trends__description">\n          <div class="trends__info">\n            <h3 class="trends__name">${s}</h3>\n            <p class="trends__ganre">${await async function(e){const t="Nice film";if(0===e.length)return t;try{const t=await async function(){const e=(await a.default.get("https://api.themoviedb.org/3/genre/movie/list",{headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ZTBiMjA0M2E3YmRlZmRmMTI5ZGViYjc4NGJiZTFmNyIsInN1YiI6IjY0ZDA5ZWY5ODUwOTBmMDBjODdkY2FjYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.AoWYcFyuoQyP_ePohi3LRcw4Fp8RAJIbZs-uo4526oA"},params:{language:"en"}})).data;return e.genres}();return t.filter((t=>t.id===e[0])).map((e=>e.name)).join(" ")}catch(e){console.log(e.code)}}(t)}|${n.split("-")[0]}</p>\n          </div>\n          <div class="raiting__body">\n            <div class="rating__active" style="width: ${10*o}px">\n              <div class="rating__active__wrapper">\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>`)))).join("")}(e);p.innerHTML=t}(e.data.results)})).catch((function(e){})),n("bTcpz"),n("2uOa8");
//# sourceMappingURL=index.5f0f42c8.js.map
