var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a("epHO8"),a("bUb57"),a("eLjGg"),a("eEHR3"),a("bTcpz");var o=a("2shzp");const i="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ZTBiMjA0M2E3YmRlZmRmMTI5ZGViYjc4NGJiZTFmNyIsInN1YiI6IjY0ZDA5ZWY5ODUwOTBmMDBjODdkY2FjYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.AoWYcFyuoQyP_ePohi3LRcw4Fp8RAJIbZs-uo4526oA",s=document.querySelector(".external-button"),r=document.getElementById("searchInput"),c=document.getElementById("trendingContainer"),l=document.querySelector(".pagination-num-btn"),d=document.getElementById("prevPage"),u=document.getElementById("nextPage"),p=document.getElementById("clearButton");let g=1,m=1;async function y(e){return(await Promise.all(e.map((async({id:e,genre_ids:t,poster_path:n,release_date:a,title:o,vote_average:i})=>`<li class="trends__item trends-box" id=${e}>\n        <img\n          src="https://image.tmdb.org/t/p/original/${n}"\n          alt="${o}"\n          class="trends__photo"\n          loading="lazy"\n        />\n        <div class="trends__description">\n          <div class="trends__info">\n            <h3 class="trends__name">${o}</h3>\n            <p class="trends__ganre">${await async function(e){const t="Nice film";if(0===e.length)return t;try{const t=await v();return t.filter((t=>t.id===e[0])).map((e=>e.name)).join(" ")}catch(e){console.log(e.code)}}(t)}|${a.split("-")[0]}</p>\n          </div>\n          <div class="raiting__body">\n            <div class="rating__active" style="width: ${10*i}px">\n              <div class="rating__active__wrapper">\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>`)))).join("")}async function v(){return(await o.default.get("https://api.themoviedb.org/3/genre/movie/list",{headers:{accept:"application/json",Authorization:i},params:{language:"en"}})).data.genres}async function h(e){e.preventDefault();const t=document.getElementById("searchInput").value.trim();if(""!==t)try{const e=await o.default.get("https://api.themoviedb.org/3/search/movie",{headers:{accept:"application/json",Authorization:i},params:{language:"en",query:t,page:1}}),n=e.data.results;if(0===n.length){const e='\n            <div class="no-results">\n              <p class="text-no-results">OOPS...</p>\n              <p class="text-no-results">We are very sorry!</p>\n              <p class="text-no-results">\n                We don’t have any results matching your search.\n              </p>\n            </div>';return void(c.innerHTML=e)}const a=await y(n);c.innerHTML=`<div class="results">${a}</div>`,m=e.data.total_pages,E(g,m)}catch(e){console.log(e.code)}}async function _(e){const t=document.getElementById("sortByYear"),n=document.getElementById("sortByGenre"),a=t.value,s=n.value;try{const t=await o.default.get("https://api.themoviedb.org/3/discover/movie",{headers:{accept:"application/json",Authorization:i},params:{language:"en",sort_by:"popularity.desc",with_genres:s,primary_release_year:a,page:e}}),n=t.data.results,r=await y(n);c.innerHTML=r,m=t.data.total_pages,E(g,m)}catch(e){console.log(e.code)}}function f(e){if(e<1||e>m)return;g=e;const t=document.getElementById("sortByYear"),n=document.getElementById("sortByGenre");(t.value||n.value)&&""!==t.value&&""!==n.value?_(g):""!==r.value.trim()?h():async function(e){try{const t=await o.default.get("https://api.themoviedb.org/3/trending/movie/day",{headers:{accept:"application/json",Authorization:i},params:{language:"en",page:e}}),n=t.data.results,a=await y(n);document.getElementById("trendingContainer").innerHTML=a,m=t.data.total_pages,E(g,m)}catch(e){console.log(e)}}(g),window.scrollTo({top:c.offsetTop,behavior:"smooth"})}function E(e,t){if(l.innerHTML="",e>1&&I(l,e-1,"back"),I(l,e,"current"),e<t&&I(l,e+1,"next"),e<t-1&&I(l,e+2),e<t-2){const e=document.createElement("button");e.classList.add("pagination-btn"),e.textContent="...",l.appendChild(e)}I(l,e+23)}function I(e,t,n=""){const a=document.createElement("button");a.classList.add("pagination-cycle-btn"),a.textContent=t<10?`0${t}`:`${t}`,"current"===n&&a.classList.add("current-page-btn"),a.addEventListener("click",(()=>f(t))),e.appendChild(a)}d.addEventListener("click",(()=>f(g-1))),u.addEventListener("click",(()=>f(g+1))),document.getElementById("sortByYear").addEventListener("change",_),document.getElementById("sortByGenre").addEventListener("change",_),s.addEventListener("click",h),r.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.preventDefault(),h(e))})),r.addEventListener("input",(function(){""!==r.value.trim()?p.style.display="inline":p.style.display="none"})),p.addEventListener("click",(function(){r.value="",p.style.display="none"})),async function(){await async function(){try{const e=await v(),t=document.getElementById("sortByYear"),n=document.getElementById("sortByGenre"),a=(new Date).getFullYear(),o=document.createElement("option");o.value="",o.textContent="Year",t.appendChild(o);for(let e=a;e>=1900;e--){const n=document.createElement("option");n.value=e,n.textContent=e,t.appendChild(n)}const i=document.createElement("option");i.value="",i.textContent="All",n.appendChild(i);for(const t of e){const e=document.createElement("option");e.value=t.id,e.textContent=t.name,n.appendChild(e)}}catch(e){console.log(e.code)}}(),f(g)}(),a("2uOa8");
//# sourceMappingURL=catalog.533f3cf6.js.map
