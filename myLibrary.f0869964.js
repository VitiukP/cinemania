!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},i=e.parcelRequired7c6;null==i&&((i=function(n){if(n in t)return t[n].exports;if(n in a){var e=a[n];delete a[n];var i={id:n,exports:{}};return t[n]=i,e.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(n,e){a[n]=e},e.parcelRequired7c6=i);var r,s=i("8nrFW"),o=i("5xtVg"),l=(o=i("5xtVg"),{ulEl:document.querySelector(".trends__list"),btnLoad:document.querySelector(".js-load"),myLibContainer:document.querySelector(".js-mylib-container"),searchEl:document.querySelector("#genre-search")}),c=[],d=(0,o.loadLs)(o.KEY)||[];function u(e){var t=n(s)(e);if(t.length<9)return f(t),void l.btnLoad.classList.add("visually-hidden");var a=t.slice(0,9);t.splice(0,9),r=n(s)(t),f(a),l.btnLoad.classList.remove("visually-hidden"),l.btnLoad.addEventListener("click",p)}function p(){if(r.length<9)return f(r),void l.btnLoad.classList.add("visually-hidden");f(r.slice(0,9)),r.splice(0,9)}function f(n){var e=n.map((function(n){var e,t=n.id,a=n.genres,i=n.poster_path,r=n.release_date,s=n.title,o=n.vote_average;return'<li class="library-list trends-box" id='.concat(t,'>\n              <img\n                src="https://image.tmdb.org/t/p/original/').concat(i,'"\n                alt="').concat(s,'"\n                class="trends__photo"\n              />\n              <div class="trends__description">\n                <div class="trends__info">\n                  <h3 class="trends__name">').concat(s,'</h3>\n                  <p class="trends__ganre">').concat(a[0].name,"|").concat((e=r,(e=e.split("-"))[0]),'</p>\n                </div>\n                <div class="raiting__body">\n                  <div class="rating__active" style="width: ').concat(10*o,'px">\n                    <div class="rating__active__wrapper">\n                      <span class="rating__active__color">★</span>\n                      <span class="rating__active__color">★</span>\n                      <span class="rating__active__color">★</span>\n                      <span class="rating__active__color">★</span>\n                      <span class="rating__active__color">★</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </li>')})).join(" ");l.ulEl.insertAdjacentHTML("beforeend",e)}u(d),d&&d.length?(d.map((function(n){return n.genres})).map((function(n){return n.map((function(n){return c.push(n.name)}))})),c=c.filter((function(n,e,t){return e===t.indexOf(n)})),c.map((function(n){var e="<option class='mylib-options'>".concat(n,"</option>");l.searchEl.insertAdjacentHTML("beforeend",e)})),l.searchEl.addEventListener("change",(function(n){l.ulEl.innerHTML=" ";var e=n.target.value;if("All Genres"===e)return void u(d);u(d.filter((function(n){return n.genres.some((function(n){return n.name.includes(e)}))})))}))):l.myLibContainer.innerHTML='<div class="not-found-film-library">\n    <p class="not-found-film-library-text-item">OOPS...</p>\n    <p class="not-found-film-library-text-item">We are very sorry!</p>\n    <p class="not-found-film-library-text-item">\n      You don’t have any movies at your library.\n    </p>\n    \n    <a class="not-found-film-link" href="./catalog.html"> Search movie </a>\n  </div>\n  <ul class="trends__list visually-hidden"></ul>\n  <button type="button" class="load-more js-load visually-hidden">Load more</button>',i("7hKzD"),i("i8Q71"),i("9XI3k"),i("5xtVg"),i("bBqzh")}();
//# sourceMappingURL=myLibrary.f0869964.js.map
