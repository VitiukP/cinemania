!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a("7hKzD"),a("i8Q71"),a("9XI3k"),a("gVa74"),a("5xtVg");var c=a("bpxeT"),s=a("2TvXO"),o=a("dIxxU"),i="Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1ZTBiMjA0M2E3YmRlZmRmMTI5ZGViYjc4NGJiZTFmNyIsInN1YiI6IjY0ZDA5ZWY5ODUwOTBmMDBjODdkY2FjYiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.AoWYcFyuoQyP_ePohi3LRcw4Fp8RAJIbZs-uo4526oA",u="https://api.themoviedb.org/3/",l=document.querySelector(".external-button"),p=document.getElementById("searchInput"),d=document.getElementById("trendingContainer"),v=document.querySelector(".pagination-num-btn"),f=document.getElementById("prevPage"),m=document.getElementById("nextPage"),h=document.getElementById("clearButton"),g=1,y=1;function x(e){return _.apply(this,arguments)}function _(){return _=e(c)(e(s).mark((function t(n){var r;return e(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.map(function(){var t=e(c)(e(s).mark((function t(n){var r,a,c,o,i,u,l,p;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,a=n.genre_ids,c=n.poster_path,o=n.release_date,i=n.title,u=n.vote_average,e.next=3,E(a);case 3:return l=e.sent,p=B(o),e.abrupt("return",'<li class="trends__item trends-box" id='.concat(r,'>\n        <img\n          src="https://image.tmdb.org/t/p/original/').concat(c,'"\n          alt="').concat(i,'"\n          class="trends__photo"\n          loading="lazy"\n        />\n        <div class="trends__description">\n          <div class="trends__info">\n            <h3 class="trends__name">').concat(i,'</h3>\n            <p class="trends__ganre">').concat(l,"|").concat(p,'</p>\n          </div>\n          <div class="raiting__body">\n            <div class="rating__active" style="width: ').concat(10*u,'px">\n              <div class="rating__active__wrapper">\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n                <span class="rating__active__color">★</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </li>'));case 6:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return r=t.sent,t.abrupt("return",r.join(""));case 4:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function b(){return w.apply(this,arguments)}function w(){return(w=e(c)(e(s).mark((function t(){var n,r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.get("".concat(u,"genre/movie/list"),{headers:{accept:"application/json",Authorization:i},params:{language:"en"}});case 2:return n=e.sent,r=n.data,a=r.genres,e.abrupt("return",a);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function E(e){return I.apply(this,arguments)}function I(){return(I=e(c)(e(s).mark((function t(n){var r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Nice film",0!==n.length){e.next=3;break}return e.abrupt("return","Nice film");case 3:return e.prev=3,e.next=6,b();case 6:return r=e.sent,a=r.filter((function(e){return e.id===n[0]})).map((function(e){return e.name})).join(" "),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0.code);case 14:case"end":return e.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}function B(e){return(e=e.split("-"))[0]}function k(){return(k=e(c)(e(s).mark((function t(n){var r,a,c;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.default.get("".concat(u,"trending/movie/day"),{headers:{accept:"application/json",Authorization:i},params:{language:"en",page:n}});case 3:return r=e.sent,a=r.data.results,e.next=7,x(a);case 7:c=e.sent,document.getElementById("trendingContainer").innerHTML=c,y=r.data.total_pages,D(g,y),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function L(e){return C.apply(this,arguments)}function C(){return(C=e(c)(e(s).mark((function t(n){var r,a,c,l,p;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=document.getElementById("searchInput"),""!==(a=r.value.trim())){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,o.default.get("".concat(u,"search/movie"),{headers:{accept:"application/json",Authorization:i},params:{language:"en",query:a,page:1}});case 8:if(c=e.sent,0!==(l=c.data.results).length){e.next=14;break}return'\n            <div class="no-results">\n              <p class="text-no-results">OOPS...</p>\n              <p class="text-no-results">We are very sorry!</p>\n              <p class="text-no-results">\n                We don’t have any results matching your search.\n              </p>\n            </div>',d.innerHTML='\n            <div class="no-results">\n              <p class="text-no-results">OOPS...</p>\n              <p class="text-no-results">We are very sorry!</p>\n              <p class="text-no-results">\n                We don’t have any results matching your search.\n              </p>\n            </div>',e.abrupt("return");case 14:return e.next=16,x(l);case 16:p=e.sent,d.innerHTML='<div class="results">'.concat(p,"</div>"),y=c.data.total_pages,D(g,y),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),console.log(e.t0.code);case 25:case"end":return e.stop()}}),t,null,[[5,22]])})))).apply(this,arguments)}function T(){return Y.apply(this,arguments)}function Y(){return(Y=e(c)(e(s).mark((function t(){var n,r,a,c,o,i,u,l,p,d,v,f,m,h,g;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:for(n=e.sent,r=document.getElementById("sortByYear"),a=document.getElementById("sortByGenre"),c=(new Date).getFullYear(),(o=document.createElement("option")).value="",o.textContent="Year",r.appendChild(o),i=c;i>=1900;i--)(u=document.createElement("option")).value=i,u.textContent=i,r.appendChild(u);for((l=document.createElement("option")).value="",l.textContent="All",a.appendChild(l),p=!0,d=!1,v=void 0,e.prev=17,f=n[Symbol.iterator]();!(p=(m=f.next()).done);p=!0)h=m.value,(g=document.createElement("option")).value=h.id,g.textContent=h.name,a.appendChild(g);e.next=25;break;case 21:e.prev=21,e.t0=e.catch(17),d=!0,v=e.t0;case 25:e.prev=25,e.prev=26,p||null==f.return||f.return();case 28:if(e.prev=28,!d){e.next=31;break}throw v;case 31:return e.finish(28);case 32:return e.finish(25);case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(0),console.log(e.t1.code);case 38:case"end":return e.stop()}}),t,null,[[0,35],[17,21,25,33],[26,,28,32]])})))).apply(this,arguments)}function j(e){return O.apply(this,arguments)}function O(){return(O=e(c)(e(s).mark((function t(n){var r,a,c,l,p,v,f;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.getElementById("sortByYear"),a=document.getElementById("sortByGenre"),c=r.value,l=a.value,e.prev=4,e.next=7,o.default.get("".concat(u,"discover/movie"),{headers:{accept:"application/json",Authorization:i},params:{language:"en",sort_by:"popularity.desc",with_genres:l,primary_release_year:c,page:n}});case 7:return p=e.sent,v=p.data.results,e.next=11,x(v);case 11:f=e.sent,d.innerHTML=f,y=p.data.total_pages,D(g,y),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),console.log(e.t0.code);case 20:case"end":return e.stop()}}),t,null,[[4,17]])})))).apply(this,arguments)}function M(){return(M=e(c)(e(s).mark((function t(){return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:A(g);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function A(e){if(!(e<1||e>y)){g=e;var t=document.getElementById("sortByYear"),n=document.getElementById("sortByGenre");(t.value||n.value)&&""!==t.value&&""!==n.value?j(g):""!==p.value.trim()?L():function(e){k.apply(this,arguments)}(g),window.scrollTo({top:d.offsetTop,behavior:"smooth"})}}function D(e,t){if(v.innerHTML="",e>1&&J(v,e-1,"back"),J(v,e,"current"),e<t&&J(v,e+1,"next"),e<t-1&&J(v,e+2),e<t-2){var n=document.createElement("button");n.classList.add("pagination-btn"),n.textContent="...",v.appendChild(n)}J(v,e+23)}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=document.createElement("button");r.classList.add("pagination-cycle-btn"),r.textContent=t<10?"0".concat(t):"".concat(t),"current"===n&&r.classList.add("current-page-btn"),r.addEventListener("click",(function(){return A(t)})),e.appendChild(r)}f.addEventListener("click",(function(){return A(g-1)})),m.addEventListener("click",(function(){return A(g+1)})),document.getElementById("sortByYear").addEventListener("change",j),document.getElementById("sortByGenre").addEventListener("change",j),l.addEventListener("click",L),p.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),L(e))})),p.addEventListener("input",(function(){""!==p.value.trim()?h.style.display="inline":h.style.display="none"})),h.addEventListener("click",(function(){p.value="",h.style.display="none"})),function(){M.apply(this,arguments)}(),a("bBqzh")}();
//# sourceMappingURL=catalog.1c7acd45.js.map
